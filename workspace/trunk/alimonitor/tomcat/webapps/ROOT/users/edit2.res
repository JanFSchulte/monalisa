<html>
<head>
    <title>Editing <<:path esc:>></title>
    <script type="text/javascript" src="/js/common.js"></script>

<style type="text/css">
.text{
    font-family: Verdana, Arial, Tahome;
    font-size: 11px;
    font-weight: normal;
    text-decoration: none;
}

td.table_title{
    background: #FFFFFF;
    color: #000000;
    font-size: 12px;
    padding: 10px;
    text-align: center;
}
                    
tr.table_header{
    background: #CCCCCC;
    font-weight: bold;
    font-family: Verdana, Arial, Helvetica, sans-serif;
    font-size: 11px;
    text-align: center;
}
                                        
td.table_header{
    border-bottom: 1px solid #CCCC99;
    border-top: 1px solid #CCCC99;
}

td.table_row{
    border-bottom: 1px solid #D9D9D9;
    font-family: Verdana, Arial, Helvetica, sans-serif; 
    font-size: 11px;
}

.whitetextsmall{
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 10px;
	font-weight: bold;
	color: #FFFFFF;
}

.whitetextlarge{
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 22px;
	font-weight: bold;
	color: #FFFFFF;	
}

a.menu_link:link,
a.menu_link:active,
a.menu_link:visited{
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 12px;
	font-weight: bold;
	color: #67674D;
	text-decoration: none
}

a.menu_link:hover{
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 12px;
	font-weight: bold;
	color: #67674D;
	text-decoration: underline
}                                                

a.menu_link_active:link,
a.menu_link_active:active,
a.menu_link_active:visited{
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 13px;
	font-weight: bold;
	color: #3A6C9A;
	text-decoration: none
}

a.menu_link_active:hover{
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 13px;
	font-weight: bold;
	color: #3A6C9A;
	text-decoration: underline
}                                                

a.link:link,
a.link:active,
a.link:visited{
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 11px;
	font-weight: bold;
	color: #3A6C9A;
	text-decoration: none
}

a.link:hover{
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 11px;
	font-weight: bold;
	color: #3A6C9A;
	text-decoration: underline
}                                                

a.link_buton_start:link,
a.link_buton_start:active,
a.link_buton_start:visited{
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 11px;
	font-weight: bold;
	color: #3A6C9A;
	text-decoration: none;
	border: solid 1px #CCCCCC;
	background-color: #DFF3E4;
	padding-left: 5px;
	padding-right: 5px;	
	padding-top: 0px;
	padding-bottom: 0px;
}

a.link_buton_start:hover{
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 11px;
	font-weight: bold;
	color: #3A6C9A;
	text-decoration: underline;
	border: solid 1px #CCCCCC;
	background-color: #DFF3E4;
	padding-left: 5px;
	padding-right: 5px;	
	padding-top: 0px;
	padding-bottom: 0px;

}                                                

a.link_buton_stop:link,
a.link_buton_stop:active,
a.link_buton_stop:visited{
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 11px;
	font-weight: bold;
	color: #3A6C9A;
	text-decoration: none;
	border: solid 1px #CCCCCC;
	background-color: #FFE7E7;
	padding-left: 5px;
	padding-right: 5px;	
	padding-top: 0px;
	padding-bottom: 0px;
}

a.link_buton_stop:hover{
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 11px;
	font-weight: bold;
	color: #3A6C9A;
	text-decoration: underline;
	border: solid 1px #CCCCCC;
	background-color: #FFE7E7;
	padding-left: 5px;
	padding-right: 5px;	
	padding-top: 0px;
	padding-bottom: 0px;

}                                                

a.link_buton_tail:link,
a.link_buton_tail:active,
a.link_buton_tail:visited{
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 11px;
	font-weight: bold;
	color: #3A6C9A;
	text-decoration: none;
	border: solid 1px #CCCCCC;
	background-color: #E8F0FF;
	padding-left: 5px;
	padding-right: 5px;	
	padding-top: 0px;
	padding-bottom: 0px;
}

a.link_buton_tail:hover{
	font-family: Verdana, Arial, Helvetica, sans-serif;
	font-size: 11px;
	font-weight: bold;
	color: #3A6C9A;
	text-decoration: underline;
	border: solid 1px #CCCCCC;
	background-color: #E8F0FF;
	padding-left: 5px;
	padding-right: 5px;	
	padding-top: 0px;
	padding-bottom: 0px;

}                                                


input.input_text{
	    font-family: Verdana, Arial, Tahome;
	    font-size: 11px;
	    font-weight: normal;
	    text-decoration: none;
	    text-align: right;
	    border: solid 1px #CCCC99;
	    background: #FFFFFF;
}

input.input_submit{
	    font-family: Verdana, Arial, Tahome;
	    font-size: 11px;
	    color: #4F4F3B;
	    font-weight: normal;
	    text-decoration: none;
	    border: solid 1px #CCCC99;
	    background: #F6F6F6;
}

select.input_select{
	    font-family: Verdana, Arial, Tahome;
	    font-size: 11px;
	    color: #4F4F3B;
	    font-weight: normal;
	    text-decoration: none;
	    border: solid 1px #CCCC99;
	    background: #F6F6F6;
}

#theFile {
    position: relative;
    width: 100%;
    height: 100%;
}

</style>

</head>
<body scroll=no>
<script type="text/javascript">
    var min=8;
    var max=18;

    function increaseFontSize(){
	var p = objById('theFile');
	    
	if(p.style.fontSize) {
    	    var s = parseInt(p.style.fontSize.replace("px",""));
    	}
	else {
    	    var s = 12;
    	}
    	if(s!=max) {
    	    s += 1;
    	}
    	
	p.style.fontSize = s+"px"
    }

    function decreaseFontSize(){
	var p = objById('theFile');
    
	if(p.style.fontSize) {
    	    var s = parseInt(p.style.fontSize.replace("px",""));
    	}
	else {
    	    var s = 10;
    	}

    	if(s!=min) {
    	    s -= 1;
    	}
    	
	p.style.fontSize = s+"px"
    }
    
    var isCtrl = false; 
    document.onkeyup=function(e){ 
	if(e.which == 17) 
	    isCtrl=false; 
    }
    
    document.onkeydown=function(e){ 
	if(e.which == 17) 
	    isCtrl=true; 
	
	if(e.which == 83 && isCtrl == true) {
            edit_form.save.value=editor.getSession().getValue();
	    document.edit_form.submit();
	     
	    return false; 
	}
    } 
</script>

<form name=edit_form action="edit2.jsp" method=post onSubmit="edit_form.save.value=editor.getSession().getValue(); return true;">
    <input type=hidden name=path value="<<:path esc:>>">
    <input type=hidden name=save value="<<:content esc:>>">
    
<table style="font-family:Arial,Verdana,Helvetica;font-size:12px" class="text" cellspacing="0" cellpadding="0" width=100% height=100% border=0>
    <tr height=20>
	<td colspan=4 align=center style="font-size:14px" nowrap><b>Editing <<:path esc:>></b></td>
    </tr>
    <tr>
	<td colspan=4  style="border: solid 1px #CCCCCC; padding: 5px;">
	    <!--<textarea name='save' id='theFile' style='width:100%;height:100%'><<:content esc:>></textarea>-->
	    <div id=theFile><<:content esc:>></div>
	</td>
    </tr>
    <tr bgcolor="#FFFFE5" height=30>
	<td nowrap align=left  style="border-top:0px;border-right:0px; border-left: solid 1px #CCCCCC;border-bottom: solid 1px #CCCCCC; padding: 5px; color: #67674D; font-weight: bold">
	    Actions : <input type=submit name=submit_save value="Save">
	</td>
	<td nowrap align=center style="border-top:0px;border-right:0px; border-left: 0px;border-bottom: solid 1px #CCCCCC; padding: 5px; color: #67674D; font-weight: bold">
	    <<:message:>>
	</td>
	<td align=center nowrap style="border-top:0px;border-right:0px; border-left: 0px;border-bottom: solid 1px #CCCCCC; padding: 5px; color: #67674D; font-weight: bold">
	    <a href="javascript:increaseFontSize();"><img src="/img/font/font-inc2.gif" border=0 alt="Increase font size"></a>
	    <a href="javascript:decreaseFontSize();"><img src="/img/font/font-dec2.gif" border=0 alt="Decrease font size"></a>
	</td>
    </tr>
</table>
</form>

<script src="/js/ace/ace.js" type="text/javascript" charset="utf-8"></script>
<script src="/js/ace/mode-<<:mode:>>.js" type="text/javascript" charset="utf-8"></script>

 <script>
    var editor = ace.edit("theFile");
    var SHMode = require("ace/mode/<<:mode:>>").Mode;
    editor.getSession().setMode(new SHMode());
    editor.setShowPrintMargin(false);
    document.getElementById('theFile').style.fontSize='13px';
</script>

</body>
</html>
